html(lang="en")
    head
        meta(charset="utf-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge")
        meta(name="description", content="Test")
        meta(name="viewport", content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no")
        title Test Page
    style.
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
        }

    body(style="margin:0px !important")
        h3 JS Server - Sign up
        input#name(placeholder='name')
        input#password(placeholder='password')
        button(style="margin-top: 1rem;", onclick="submit()") Sign Up
        button(style='margin-top: 0.3rem;', onclick="login()") To Sign In

    script(type="text/javascript", src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js")
    script.
        function login() {
            window.location.href = '/signin'
        }
        function submit() {
            console.log($('#name').val())
            $.ajax({
                type: 'POST',
                url: '/js/reg',
                data: {
                    name: $('#name').val(),
                    password: $('#password').val()
                },
                error: function () {
                    alert('network error')
                },
                success: function (res) {
                    if (res.err == 0) {
                        alert('reg success\n\n name: ' + $('#name').val() + '\n password: ' + $('#password').val())
                        window.location.href = './login'
                    }
                }
            })
        }